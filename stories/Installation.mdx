import { Meta } from "@storybook/blocks";

<Meta title="Documentation/Installation" />

# Installation

## Built With

This design system is built on:

- **[Nuxt 4](https://nuxt.com)** - The Intuitive Vue Framework
- **[Tailwind CSS 4](https://tailwindcss.com)** - A utility-first CSS framework
- **[shadcn-vue](https://www.shadcn-vue.com)** - Beautifully designed components

---

## 1. Install the Package

Choose one of the following installation methods:

### Via npm (Recommended)

```bash
# npm
npm install @tdm-digitalteam/design-system-web

# pnpm
pnpm add @tdm-digitalteam/design-system-web

# yarn
yarn add @tdm-digitalteam/design-system-web
```

### Via GitHub Repository

For the latest version from GitHub:

```bash
# npm
npm install github:makassar-superapp/design-system-web#main

# pnpm
pnpm add github:makassar-superapp/design-system-web#main

# yarn
yarn add github:makassar-superapp/design-system-web#main
```

> **Note**: View the repository at [github.com/makassar-superapp/design-system-web](https://github.com/makassar-superapp/design-system-web)

### Via Local Path (Development)

For local development:

```bash
pnpm add file:../design-system-web
```

## 2. Install Recommended Dependencies

For the best experience, install these dependencies:

```bash
# TypeScript (recommended for better type safety and IDE support)
pnpm add -D typescript

# Lucide Icons (needed if using components with built-in icons)
pnpm add lucide-vue-next
```

> **Note**: `lucide-vue-next` is used by some components for icons. You can use alternative icon libraries if preferred.

## 3. Configure Nuxt Layer

Add the design system layer to your `nuxt.config.ts`:

```typescript
export default defineNuxtConfig({
  extends: ["@tdm-digitalteam/design-system-web"],
});
```

**Or directly reference the GitHub repository:**

Skip npm installation and point directly to GitHub:

```typescript
export default defineNuxtConfig({
  extends: ["github:makassar-superapp/design-system-web#main"],
});
```

> **Note**: Using GitHub reference means Nuxt will fetch directly from [github.com/makassar-superapp/design-system-web](https://github.com/makassar-superapp/design-system-web)

**Or use a local path for development:**

```typescript
export default defineNuxtConfig({
  extends: ["../design-system-web"],
});
```

## 4. Start Using Components

All components are auto-importedâ€”no manual imports needed!

### Basic Example

```vue
<template>
  <div>
    <Button variant="default" @click="handleClick">Click me</Button>
    <Input v-model="name" placeholder="Enter name" />
  </div>
</template>

<script setup lang="ts">
const name = ref("");
const handleClick = () => console.log("Clicked!");
</script>
```

### Form Example

```vue
<template>
  <div class="space-y-4">
    <div>
      <Label for="email">Email</Label>
      <Input
        id="email"
        v-model="email"
        type="email"
        placeholder="you@example.com"
      />
    </div>

    <div>
      <Label for="message">Message</Label>
      <Textarea
        id="message"
        v-model="message"
        placeholder="Type your message..."
      />
    </div>

    <Button @click="submitForm">Submit</Button>
  </div>
</template>

<script setup lang="ts">
const email = ref("");
const message = ref("");

const submitForm = () => {
  console.log({ email: email.value, message: message.value });
};
</script>
```

## 5. Use Utilities

### cn() - Classname Merger

Merge classnames with conditional logic:

```vue
<script setup lang="ts">
import { cn } from "@tdm-digitalteam/design-system-web/lib/utils";

const isActive = ref(true);
const classes = cn(
  "base-class",
  isActive.value && "active-class",
  "another-class"
);
</script>
```

### Dynamic Classes Example

```vue
<template>
  <div :class="containerClasses">
    <Button :class="buttonClasses" @click="toggle">Toggle</Button>
  </div>
</template>

<script setup lang="ts">
import { cn } from "@tdm-digitalteam/design-system-web/lib/utils";

const isExpanded = ref(false);

const containerClasses = computed(() =>
  cn(
    "p-4 rounded-lg transition-all",
    isExpanded.value ? "bg-primary text-white" : "bg-gray-100"
  )
);

const buttonClasses = computed(() =>
  cn("w-full", isExpanded.value && "bg-white text-primary")
);

const toggle = () => {
  isExpanded.value = !isExpanded.value;
};
</script>
```

## Troubleshooting

### Components Not Auto-imported

1. Ensure layer is properly extended in `nuxt.config.ts`
2. Clear cache: `rm -rf .nuxt node_modules/.cache`
3. Restart dev server: `pnpm run dev`

### Missing IntelliSense

Restart your IDE after initial setup to enable autocomplete and type hints.

### Verify Installation

```bash
# Check package.json
cat package.json | grep "design-system-web"

# Check node_modules
ls node_modules/@tdm-digitalteam/design-system-web
```
